(()=>{var c="site-static-v1.2",h=["/","/index.html","index.min.js","/beautifier.min.js"];self.addEventListener("install",n=>{n.waitUntil(caches.open(c).then(e=>e.addAll(h)).then(()=>self.skipWaiting()))});self.addEventListener("activate",n=>{n.waitUntil(caches.keys().then(e=>Promise.all(e.map(i=>i!==c?caches.delete(i):Promise.resolve()))).then(()=>self.clients.claim()))});self.addEventListener("fetch",n=>{let e=n.request;if(e.method==="GET"){if(e.mode==="navigate"){n.respondWith(caches.match("/index.html").then(i=>i||fetch(e).then(s=>(caches.open(c).then(t=>t.put("/index.html",s.clone())),s)).catch(()=>caches.match("/offline.html"))));return}n.respondWith(caches.match(e).then(i=>{let s=fetch(e).then(t=>(t&&t.status===200&&caches.open(c).then(a=>{try{a.put(e,t.clone())}catch{}}),t.clone,t)).catch(()=>e.destination==="image"?new Response("",{status:404,statusText:"offline"}):null);return i?Promise.resolve(i):s}))}});})();
